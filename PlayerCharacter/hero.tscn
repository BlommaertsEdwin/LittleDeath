[gd_scene load_steps=19 format=3 uid="uid://epjvtt8sgm8i"]

[ext_resource type="Script" path="res://PlayerCharacter/Hero.gd" id="1_mtx77"]
[ext_resource type="Texture2D" uid="uid://7qa55chegn4y" path="res://Art/HeroPaperDoll.png" id="2_byxnx"]
[ext_resource type="Script" path="res://addons/godot_state_charts/state_chart.gd" id="3_hqi1f"]
[ext_resource type="Script" path="res://addons/godot_state_charts/compound_state.gd" id="4_4svio"]
[ext_resource type="Script" path="res://addons/godot_state_charts/atomic_state.gd" id="5_icy3n"]
[ext_resource type="Script" path="res://addons/godot_state_charts/transition.gd" id="6_loosf"]
[ext_resource type="PackedScene" uid="uid://bcwkugn6v3oy7" path="res://addons/godot_state_charts/utilities/state_chart_debugger.tscn" id="7_3rfyf"]

[sub_resource type="Animation" id="Animation_ppekt"]
resource_name = "WalkDown"
length = 0.7
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("HeroSprite:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [Vector2i(1, 10), Vector2i(2, 10), Vector2i(3, 10), Vector2i(4, 10), Vector2i(5, 10), Vector2i(6, 10), Vector2i(7, 10), Vector2i(8, 10)]
}

[sub_resource type="Animation" id="Animation_t65my"]
resource_name = "WalkLeft"
length = 0.7
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("HeroSprite:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [Vector2i(1, 9), Vector2i(2, 9), Vector2i(3, 9), Vector2i(4, 9), Vector2i(5, 9), Vector2i(6, 9), Vector2i(7, 9), Vector2i(8, 9)]
}

[sub_resource type="Animation" id="Animation_djc3j"]
resource_name = "WalkRight"
length = 0.7
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("HeroSprite:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [Vector2i(1, 11), Vector2i(2, 11), Vector2i(3, 11), Vector2i(4, 11), Vector2i(5, 11), Vector2i(6, 11), Vector2i(7, 11), Vector2i(8, 11)]
}

[sub_resource type="Animation" id="Animation_v7ndm"]
resource_name = "WalkUp"
length = 0.7
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("HeroSprite:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [Vector2i(1, 8), Vector2i(2, 8), Vector2i(3, 8), Vector2i(4, 8), Vector2i(5, 8), Vector2i(6, 8), Vector2i(7, 8), Vector2i(8, 8)]
}

[sub_resource type="Animation" id="Animation_2anha"]
resource_name = "IdleDown"
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("HeroSprite:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2i(0, 10)]
}

[sub_resource type="Animation" id="Animation_06l6d"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("HeroSprite:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2i(0, 11)]
}

[sub_resource type="Animation" id="Animation_b314l"]
resource_name = "IdleRight"
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("HeroSprite:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2i(0, 11)]
}

[sub_resource type="Animation" id="Animation_t4spd"]
resource_name = "IdleLeft"
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("HeroSprite:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2i(0, 9)]
}

[sub_resource type="Animation" id="Animation_3a1tb"]
resource_name = "IdleUp"
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("HeroSprite:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2i(0, 8)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_tef1y"]
_data = {
"IdleDown": SubResource("Animation_2anha"),
"IdleLeft": SubResource("Animation_t4spd"),
"IdleRight": SubResource("Animation_b314l"),
"IdleUp": SubResource("Animation_3a1tb"),
"RESET": SubResource("Animation_06l6d"),
"WalkDown": SubResource("Animation_ppekt"),
"WalkLeft": SubResource("Animation_t65my"),
"WalkRight": SubResource("Animation_djc3j"),
"WalkUp": SubResource("Animation_v7ndm")
}

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_ujvir"]

[node name="Hero" type="CharacterBody2D"]
script = ExtResource("1_mtx77")

[node name="HeroSprite" type="Sprite2D" parent="."]
texture = ExtResource("2_byxnx")
hframes = 13
vframes = 21
frame = 143
region_rect = Rect2(17, 527, 30, 49)

[node name="HeroCollisionShape" type="CollisionShape2D" parent="."]

[node name="HeroStateChart" type="Node" parent="."]
script = ExtResource("3_hqi1f")

[node name="Root" type="Node" parent="HeroStateChart"]
script = ExtResource("4_4svio")
initial_state = NodePath("Idle")

[node name="Idle" type="Node" parent="HeroStateChart/Root"]
script = ExtResource("4_4svio")
initial_state = NodePath("Down")

[node name="Up" type="Node" parent="HeroStateChart/Root/Idle"]
script = ExtResource("5_icy3n")

[node name="Down" type="Node" parent="HeroStateChart/Root/Idle"]
script = ExtResource("5_icy3n")

[node name="Left" type="Node" parent="HeroStateChart/Root/Idle"]
script = ExtResource("5_icy3n")

[node name="Right" type="Node" parent="HeroStateChart/Root/Idle"]
script = ExtResource("5_icy3n")

[node name="Transition" type="Node" parent="HeroStateChart/Root/Idle"]
script = ExtResource("6_loosf")
to = NodePath("../../Moving")
event = &"to_moving"

[node name="Moving" type="Node" parent="HeroStateChart/Root"]
script = ExtResource("4_4svio")
initial_state = NodePath("Down")

[node name="Up" type="Node" parent="HeroStateChart/Root/Moving"]
script = ExtResource("5_icy3n")

[node name="Down" type="Node" parent="HeroStateChart/Root/Moving"]
script = ExtResource("5_icy3n")

[node name="Left" type="Node" parent="HeroStateChart/Root/Moving"]
script = ExtResource("5_icy3n")

[node name="Right" type="Node" parent="HeroStateChart/Root/Moving"]
script = ExtResource("5_icy3n")

[node name="Transition" type="Node" parent="HeroStateChart/Root/Moving"]
script = ExtResource("6_loosf")
to = NodePath("../../Idle")
event = &"to_idle"

[node name="HeroAnimationTree" type="AnimationTree" parent="."]
libraries = {
"": SubResource("AnimationLibrary_tef1y")
}
tree_root = SubResource("AnimationNodeBlendSpace2D_ujvir")
anim_player = NodePath("../HeroAnimationPlayer")
parameters/blend_position = Vector2(0, 0)

[node name="HeroAnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_tef1y")
}

[node name="StateChartDebugger" parent="HeroAnimationPlayer" instance=ExtResource("7_3rfyf")]
offset_left = 818.0
offset_top = 22.0
initial_node_to_watch = NodePath("../../HeroStateChart")

[connection signal="state_processing" from="HeroStateChart/Root/Idle" to="." method="_on_idle_state_processing"]
[connection signal="state_processing" from="HeroStateChart/Root/Moving" to="." method="_on_moving_state_processing"]
